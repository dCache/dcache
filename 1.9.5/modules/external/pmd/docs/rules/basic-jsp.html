<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>PMD - Rule Set: Basic JSP rules</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
          @import url("../style/maven-theme.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="Tom Copeland"></meta><meta name="email" content="tom@infoether.com"></meta></head><body class="composite"><div id="banner"><a href="http://pmd.sourceforge.net/" id="organizationLogo"><img alt="InfoEther" src="http://sourceforge.net/sflogo.php?group_id=56262&amp;type=5"></img></a><a href="http://pmd.sourceforge.net/" id="projectLogo"><img alt="PMD" src="../images/pmd_logo_small.jpg"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft"></div><div class="xright">
        
        <a href="http://pmdapplied.com/" class="externalLink" title="External Link">**** Get the book! ****</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://sourceforge.net/projects/pmd" class="externalLink" title="External Link">SourceForge.net Project Page</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://sourceforge.net" class="externalLink" title="External Link">Hosted by SourceForge</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menuOverview"><h5>Overview</h5><ul><li class="none"><a href="http://sourceforge.net/project/showfiles.php?group_id=56262&amp;package_id=51441&amp;release_id=632850" class="externalLink" title="External Link">Download PMD 4.2.5</a></li><li class="none"><a href="http://sourceforge.net/project/shownotes.php?release_id=632850&amp;group_id=56262" class="externalLink" title="External Link">What's new in PMD 4.2.5</a></li><li class="none"><a href="../news.html">PMD in the news</a></li><li class="none"><a href="../products.html">PMD-related products and books</a></li><li class="none"><a href="../bestpractices.html">Best practices</a></li><li class="none"><a href="../future.html">Future directions</a></li><li class="none"><a href="../similar-projects.html">Similar projects</a></li><li class="none"><a href="../credits.html">Credits</a></li><li class="none"><a href="../license.html">License</a></li><li class="none"><a href="../meaning.html">What does 'PMD' mean?</a></li></ul></div><div id="menuUsage"><h5>Usage</h5><ul><li class="none"><a href="../installing.html">Installation</a></li><li class="none"><a href="../running.html">Command line usage</a></li><li class="none"><a href="../ant-task.html">Ant task usage</a></li><li class="none"><a href="../maven-plugin.html">Maven plugin usage</a></li><li class="none"><a href="../mvn-plugin.html">Mvn plugin usage</a></li><li class="none"><a href="../integrations.html">IDE plugin usage</a></li><li class="none"><a href="../suppressing.html">Suppressing warnings</a></li><li class="none"><a href="../cpd.html">Finding duplicated code</a></li><li class="none"><a href="../jspsupport.html">JSP support</a></li></ul></div><div id="menuCustomizing_PMD"><h5>Customizing PMD</h5><ul><li class="none"><a href="../compiling.html">Compiling PMD</a></li><li class="none"><a href="../howtowritearule.html">How to write a rule</a></li><li class="none"><a href="../xpathruletutorial.html">Writing XPath rules</a></li><li class="none"><a href="../howtomakearuleset.html">How to make a rule set</a></li><li class="none"><a href="../howitworks.html">How it works</a></li><li class="none"><a href="../rule-guidelines.html">Rule guidelines</a></li></ul></div><div id="menuFor_example"><h5>For example</h5><ul><li class="none"><a href="../scoreboard.html">Run PMD on a Sourceforge project</a></li></ul></div><div id="menuRule_Sets"><h5>Rule Sets</h5><ul><li class="none"><a href="../rules/index.html">Index</a></li><li class="none"><a href="../rules/android.html">Android</a></li><li class="none"><a href="../rules/basic.html">Basic</a></li><li class="none"><a href="../rules/braces.html">Braces</a></li><li class="none"><a href="../rules/codesize.html">Code Size</a></li><li class="none"><a href="../rules/clone.html">Clone</a></li><li class="none"><a href="../rules/controversial.html">Controversial</a></li><li class="none"><a href="../rules/coupling.html">Coupling</a></li><li class="none"><a href="../rules/design.html">Design</a></li><li class="none"><a href="../rules/finalizers.html">Finalizers</a></li><li class="none"><a href="../rules/imports.html">Import Statements</a></li><li class="none"><a href="../rules/j2ee.html">J2EE</a></li><li class="none"><a href="../rules/javabeans.html">Javabeans</a></li><li class="none"><a href="../rules/junit.html">JUnit Tests</a></li><li class="none"><a href="../rules/logging-java.html">Logging (Java)</a></li><li class="none"><a href="../rules/logging-jakarta-commons.html">Logging (Jakarta)</a></li><li class="none"><a href="../rules/migrating.html">Migrating</a></li><li class="none"><a href="../rules/naming.html">Naming</a></li><li class="none"><a href="../rules/optimizations.html">Optimizations</a></li><li class="none"><a href="../rules/strictexception.html">Strict Exceptions</a></li><li class="none"><a href="../rules/strings.html">Strings</a></li><li class="none"><a href="../rules/sunsecure.html">Sun Security</a></li><li class="none"><a href="../rules/unusedcode.html">Unused Code</a></li><li class="none"><strong><a href="../rules/basic-jsp.html">Java Server Pages</a></strong></li><li class="none"><a href="../rules/basic-jsf.html">Java Server Faces</a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="../index.html">About</a></li><li class="collapsed"><a href="../project-info.html">Project Info</a></li><li class="collapsed"><a href="../maven-reports.html">Project Reports</a></li><li class="none"><a href="../development-process.html">Development Process</a></li></ul></div><div id="legend"><h5>Legend</h5><ul><li class="externalLink">External Link</li><li class="newWindow">Opens in a new window</li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="../images/logos/mavenlogo_builtby_w.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Basic_JSP_rules"></a><h2>Basic JSP rules</h2>
				
	
	Rules concerning basic JSP guidelines.
	
	
	
	<div class="subsection"><a name="NoLongScripts"></a><h3>NoLongScripts</h3>
		<p>Since: PMD 3.6</p>
		<p> Scripts should be part of Tag Libraries, rather than part of JSP pages.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 
// Element [ string:upper-case(@Name)="SCRIPT" and (@EndLine - @BeginLine &amp;gt; 10) ]
				
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt;
&lt;BODY&gt;
&lt;!--Java Script--&gt;
&lt;SCRIPT language="JavaScript" type="text/javascript"&gt;
&lt;!--
function calcDays(){
  var date1 = document.getElementById('d1').lastChild.data;
  var date2 = document.getElementById('d2').lastChild.data;
  date1 = date1.split("-");
  date2 = date2.split("-");
  var sDate = new Date(date1[0]+"/"+date1[1]+"/"+date1[2]);
  var eDate = new Date(date2[0]+"/"+date2[1]+"/"+date2[2]);
  var daysApart = Math.abs(Math.round((sDate-eDate)/86400000));
  document.getElementById('diffDays').lastChild.data = daysApart;
}

onload=calcDays;
//--&gt;
&lt;/SCRIPT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="NoScriptlets"></a><h3>NoScriptlets</h3>
		<p>Since: PMD 3.6</p>
		<p> Scriptlets should be factored into Tag Libraries or JSP declarations,
			rather than being part of JSP pages. </p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					
					//JspScriptlet
					|
					//Element[ string:upper-case(@Name)="JSP:SCRIPTLET" ]
					
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			 
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;%
response.setHeader("Pragma", "No-cache");
%&gt;
&lt;/HEAD&gt;
	&lt;BODY&gt;
		&lt;jsp:scriptlet&gt;String title = "Hello world!";&lt;/jsp:scriptlet&gt;
	&lt;/BODY&gt;
&lt;/HTML&gt;
					 
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="NoInlineStyleInformation"></a><h3>NoInlineStyleInformation</h3>
		<p>Since: PMD 3.6</p>
		<p> Style information should be put in CSS files, not in JSPs.
			Therefore, don't use &lt;B&gt; or &lt;FONT&gt; tags, or attributes like "align='center'".  </p>
		
		
		    
		    
    		    
    		    
    		    

    		    <p>This rule is defined by the following Java class:
    		    <a href="../xref/net/sourceforge/pmd/jsp/rules/NoInlineStyleInformation.html">net.sourceforge.pmd.jsp.rules.NoInlineStyleInformation</a>
    		    </p>
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;html&gt;&lt;body&gt;&lt;p align='center'&gt;&lt;b&gt;text&lt;/b&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	
	<div class="subsection"><a name="NoClassAttribute"></a><h3>NoClassAttribute</h3>
		<p>Since: PMD 3.6</p>
		<p>Do not use an attribute called 'class'. Use "styleclass" for CSS styles.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 //Attribute[ string:upper-case(@Name)="CLASS" ]  
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt; &lt;BODY&gt;
&lt;P class="MajorHeading"&gt;Some text&lt;/P&gt;
&lt;/BODY&gt; &lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="NoJspForward"></a><h3>NoJspForward</h3>
		<p>Since: PMD 3.6</p>
		<p>Do not do a forward from within a JSP file.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 //Element[ @Name="jsp:forward" ]  
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;jsp:forward page='UnderConstruction.jsp'/&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>


	
	
	<div class="subsection"><a name="IframeMissingSrcAttribute"></a><h3>IframeMissingSrcAttribute</h3>
		<p>Since: PMD 3.6</p>
		<p>
		  IFrames which are missing a src element can cause security information popups 
		  in IE if you are accessing the page through SSL. See http://support.microsoft.com/default.aspx?scid=kb;EN-US;Q261188
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 
	//Element[string:upper-case(@Name)="IFRAME"][count(Attribute[string:upper-case(@Name)="SRC" ]) = 0]
					 
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt;&lt;title&gt;bad example&gt;&lt;BODY&gt;
&lt;iframe&gt;&lt;/iframe&gt;
&lt;/BODY&gt; &lt;/HTML&gt;

&lt;HTML&gt;&lt;title&gt;good example&gt;&lt;BODY&gt;
&lt;iframe src="foo"&gt;&lt;/iframe&gt;
&lt;/BODY&gt; &lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>


	
	
	<div class="subsection"><a name="NoHtmlComments"></a><h3>NoHtmlComments</h3>
		<p>Since: PMD 3.6</p>
		<p>
		  In a production system, HTML comments increase the payload between the application 
		  server to the client, and serve little other purpose. Consider switching to 
		  JSP comments.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 
	//CommentTag
					 
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt;&lt;title&gt;bad example&gt;&lt;BODY&gt;
&lt;!-- HTML comment --&gt;
&lt;/BODY&gt; &lt;/HTML&gt;

&lt;HTML&gt;&lt;title&gt;good example&gt;&lt;BODY&gt;
&lt;%-- JSP comment --%&gt;
&lt;/BODY&gt; &lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="DuplicateJspImports"></a><h3>DuplicateJspImports</h3>
		<p>Since: PMD 3.7</p>
		<p>Avoid duplicate import statements inside JSP's.  </p>
		
		
		    
		    
    		    
    		    
    		    

    		    <p>This rule is defined by the following Java class:
    		    <a href="../xref/net/sourceforge/pmd/jsp/rules/DuplicateJspImports.html">net.sourceforge.pmd.jsp.rules.DuplicateJspImports</a>
    		    </p>
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			 
&lt;%@ page import=\"com.foo.MyClass,com.foo.MyClass\"%&gt;&lt;html&gt;&lt;body&gt;&lt;b&gt;&lt;img src=\"&lt;%=Some.get()%&gt;/foo\"&gt;xx&lt;/img&gt;text&lt;/b&gt;&lt;/body&gt;&lt;/html&gt;
			 
		
            </pre></div>
  
        

        
        
            
        

	</div>

    
    
	
	<div class="subsection"><a name="JspEncoding"></a><h3>JspEncoding</h3>
		<p>Since: PMD </p>
		<p>
            
A missing 'meta' tag or page directive will trigger this rule, as well as a non-UTF-8 charset.
            
        </p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
                    
//Content[
not(Element[@Name="meta"][
   Attribute[@Name="content"]/AttributeValue[contains(string:lower-case(@Image),"charset=utf-8")]
]) 
and 
    not(JspDirective[@Name='page']/JspDirectiveAttribute[@Name='contentType'][contains(string:lower-case(@Value),"charset=utf-8")])
]
                    
                </pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
            
                Most browsers should be able to interpret the following headers:
                
                &lt;%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %&gt;
                    
                &lt;meta http-equiv="Content-Type"  content="text/html; charset=UTF-8" /&gt;
            
        
            </pre></div>
  
        

        
        
            
        

	</div>



			</div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2002-2009, InfoEther</div><div class="clear"><hr></hr></div></div></body></html>