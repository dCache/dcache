/*
 * Automatically generated by jrpcgen 1.0.7 on 2/21/09 1:22 AM
 * jrpcgen is part of the "Remote Tea" ONC/RPC package for Java
 * See http://remotetea.sourceforge.net for details
 */
package org.dcache.chimera.nfs.v4.xdr;
import org.dcache.xdr.*;
import java.io.IOException;
import java.net.Inet6Address;
import java.net.InetSocketAddress;
import org.dcache.utils.net.InetSocketAddresses;

public class netaddr4 implements XdrAble {
    public String na_r_netid;
    public String na_r_addr;

    public netaddr4() {
    }

    public netaddr4(InetSocketAddress socketAddress) {
        na_r_addr = InetSocketAddresses.uaddrOf(socketAddress);
        na_r_netid = socketAddress.getAddress() instanceof Inet6Address ?
                    "tcp6" : "tcp";
    }

    public netaddr4(XdrDecodingStream xdr)
           throws OncRpcException, IOException {
        xdrDecode(xdr);
    }

    public void xdrEncode(XdrEncodingStream xdr)
           throws OncRpcException, IOException {
        xdr.xdrEncodeString(na_r_netid);
        xdr.xdrEncodeString(na_r_addr);
    }

    public void xdrDecode(XdrDecodingStream xdr)
           throws OncRpcException, IOException {
        na_r_netid = xdr.xdrDecodeString();
        na_r_addr = xdr.xdrDecodeString();
    }

    @Override
    public String toString() {
        return na_r_netid + "://" + na_r_addr;
    }
}
// End of netaddr4.java
