#  -----------------------------------------------------------------------
#     Default values for replica
#  -----------------------------------------------------------------------
#
#   This Java properties file contains default values for replica
#   configuration parameters. All values can be redefined in
#   etc/dcache.conf. Do not modify any values here as your changes
#   will be lost when you next upgrade.


#   To activate Replica Manager you need make changes in 3 places:
#    1) you need to run the replica service somewhere in your
#       dCache installation by enabling it in a layout file
#    2) configure the service in etc/dcache.conf file on node where
#       the replica service is running
#    3) define Resilient pool group(s) in PoolManager.conf on the host
#       running the poolmanager service

#  ---- Cell name of Replica Manager
#
replica.cell.name=replicaManager
replica/cell.name=${replica.cell.name}

#  ---- Which pool-group will be the group of resilient pools?
#
#   Values:  <pool-Group-Name>, a pool-group name existing in the PoolManager.conf
#
#   Only pools defined in pool group ResilientPools in
#   config/PoolManager.conf will be managed by ReplicaManager. You
#   must edit config/PoolManager.conf to make the replica manager
#   work. To use another pool group defined in PoolManager.conf for
#   replication, please specify group name by changing this setting.
#
(deprecated)resilientGroupName=ResilientPools
replica.poolgroup=${resilientGroupName}

(deprecated)replicaPoolWatchDogPeriod=600
replica.limits.pool-watchdog-period=${replicaPoolWatchDogPeriod}
replica.limits.pool-watchdog-period.unit=SECONDS

(deprecated)replicaWaitDBUpdateTimeout=600
replica.limits.wait-db-update-timeout=${replicaWaitDBUpdateTimeout}
replica.limits.wait-db-update-timeout.unit=SECONDS

(deprecated)replicaExcludedFilesExpirationTimeout=43200
replica.limits.excluded-files-expiration-timeout=${replicaExcludedFilesExpirationTimeout}
replica.limits.excluded-files-expiration-timeout.unit=SECONDS

(deprecated)replicaDelayDBStartTimeout=1200
replica.limits.delay-db-start-timeout=${replicaDelayDBStartTimeout}
replica.limits.delay-db-start-timeout.unit=SECONDS

(deprecated)replicaAdjustStartTimeout=1200
replica.limits.adjust-start-timeout=${replicaAdjustStartTimeout}
replica.limits.adjust-start-timeout.unit=SECONDS

(deprecated)replicaWaitReplicateTimeout=43200
replica.limits.wait-replicate-timeout=${replicaWaitReplicateTimeout}
replica.limits.wait-replicate-timeout.unit=SECONDS

(deprecated)replicaWaitReduceTimeout=43200
replica.limits.wait-reduce-timeout=${replicaWaitReduceTimeout}
replica.limits.wait-reduce-timeout.unit=SECONDS

(deprecated)replicaMaxWorkers=6
replica.limits.workers=${replicaMaxWorkers}

(deprecated)replicaMin=2
replica.limits.replicas.min=${replicaMin}

(deprecated)replicaMax=3
replica.limits.replicas.max=${replicaMax}

(deprecated,one-of?true|false)replicaCheckPoolHost=true
(one-of?true|false|${replicaCheckPoolHost})replica.enable.check-pool-host=${replicaCheckPoolHost}

(deprecated,one-of?true|false)replicaEnableSameHostReplica=false
(one-of?true|false|${replicaEnableSameHostReplica})replica.enable.same-host-replica=${replicaEnableSameHostReplica}

#
# Replica Manager database settings
#
(deprecated)replicaManagerDatabaseHost=localhost
(deprecated)replicaDbName=replicas
(deprecated)replicaDbUser=srmdcache
(deprecated)replicaDbPassword=srmdcache
(deprecated)replicaPasswordFile=
(deprecated)replicaDbJdbcDriver=org.postgresql.Driver

replica.db.host=${replicaManagerDatabaseHost}
replica.db.name=${replicaDbName}
replica.db.user=${replicaDbUser}
replica.db.password=${replicaDbPassword}
replica.db.password.file=${replicaPasswordFile}
replica.db.driver=${replicaDbJdbcDriver}
replica.db.url=jdbc:postgresql://${db.host}/${db.name}
replica.db.schema.auto=false
replica.db.schema.changelog=

replica/db.host=${replica.db.host}
replica/db.name=${replica.db.name}
replica/db.user=${replica.db.user}
replica/db.password=${replica.db.password}
replica/db.driver=${replica.db.driver}
replica/db.url=${replica.db.url}
replica/db.schema.auto=${replica.db.schema.auto}
replica/db.schema.changelog=${replica.db.schema.changelog}

# Old properties
(obsolete)replicaDebug=Use logging system
