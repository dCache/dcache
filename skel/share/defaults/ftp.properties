#  -----------------------------------------------------------------------
#     Default values for FTP doors
#  -----------------------------------------------------------------------
#
#   This Java properties file contains default values for FTP
#   configuration parameters. All values can be redefined in
#   etc/dcache.conf. Do not modify any values here as your changes
#   will be lost when you next upgrade.

#  ----- Cell names for FTP doors
#
gridftp/cell.name=GFTP-${host.name}
ftp/cell.name=FTP-${host.name}
kerberosftp/cell.name=KFTP-${host.name}

#  ---- TCP port numbers and interfaces for FTP doors
#
ftpPort=22126
ftp/port=${ftpPort}
kerberosFtpPort=22127
kerberosftp/port=${kerberosFtpPort}
gsiFtpPortNumber=2811
gridftp/port=${gsiFtpPortNumber}

ftp.net.listen=${dcache.net.listen}
gridftp.net.listen=${dcache.net.listen}
kerberosftp.net.listen=${dcache.net.listen}


#  ---- GridFTP port range
#
#   Do not change unless you know what you are doing.
#
clientDataPortRange=${net.wan.port.min}:${net.wan.port.max}

#  Service Principle Names for the Kerberos doors.  You shouldn't need
#  to alter these.
#
kerberosftp/kerberos.service-principle-name=ftp/${host.fqdn}@${kerberos.realm}

#  ---- Period between successive GridFTP performance markers
#
#   This variable controls how often performance markers are written.
#   The value is in seconds: set performanceMarkerPeriod to 180 to
#   get performanceMarkers every 3 minutes.  A value of 0 will
#   disable performance markers.
#
performanceMarkerPeriod=70

#  ---- PoolManager to use for FTP doors
#
#   When empty a PoolManager is determined automatically based on
#   other configuration parameters.
gsiftpPoolManager=

#  ---- Pool proxy to use for FTP doors
(obsolete)gsiftpPoolProxy=

#  ---- PoolManager timeout
#
#   Specifies the timeout in seconds for communication with the
#   PoolManager cell.
#
gsiftpPoolManagerTimeout=5400

#  ---- Pool timeout
#
#   Specifies the timeout in seconds for communication with the
#   pool cells.
#
gsiftpPoolTimeout=600

#  ---- PnfsManager timeout
#
#   Specifies the timeout in seconds for communication with the
#   PnfsManager cell.
#
gsiftpPnfsTimeout=300

#  ---- How many times to retry pool selection
#
#   If pool selection fails for some reason, the door may retry the
#   operation. This setting specifies how many times to retry before
#   the transfer fails.
#
gsiftpMaxRetries=80

#  ---- Maximum number of concurrent streams to allow
#
#   For gridftp mode E transfers multiple TCP streams are used for the
#   data channel. In active FTP (server creates data channel), the
#   maximum number of channels allowed is controlled by this
#   property. For passive FTP (client creates data channel) the
#   maximum number cannot be controlled by the server.
#
gsiftpMaxStreamsPerClient=10

#  ---- Whether to delete files after upload failures
#
#   When set to true, FTP doors delete files after upload failures.
#
(one-of?true|false)gsiftpDeleteOnConnectionClosed=true

#  ---- Limit on number of concurrent logins
#
#   Specifies the largest number of simulatenous logins to allow to an
#   FTP door.
#
gsiftpMaxLogin=100

#  ---- Mover queue
#
#   The mover queue on the pool to which FTP transfers will be
#   scheduled. If blank, the default queue will be used.
#
gsiftpIoQueue=

#  ---- What IP address to use for connections from pools to the FTP door
#
#   FTP doors in some cases act as proxies for the transfer. This
#   property specifies the IP of the interface on the door that the
#   pool will connect to. If empty, the door will choose a local
#   address. This address must not be a wildcard address.
#
gsiftpAdapterInternalInterface=

#  ----- FTP transaction log directory
#
#   When set, a log file per FTP session is created in this directory.
#
FtpTLogDir=

#  ---- Whether passive FTP transfers are relayed by the door
#
#   Passive FTP transfers are those where the client creates the data
#   channel connection to the server.
#
#   If this option is set to true, then all passive transfers are
#   relayed by the FTP door. If this option is set to false, then the
#   client is instructed to connect directly to the pool. This
#   requires that the pool allows inbound connections. Even when set
#   to false, there are several circumstances in which the connection
#   cannot be established directly to the pool due to limitations in
#   the FTP protocol. In such cases the connection will be relayed by
#   the door.
#
#   This setting is interpreted by both FTP doors and pools. For a
#   given combination of door and pool, a direct connection to the
#   pool can only be established if this setting is false at both the
#   door and the pool.
#
(one-of?true|false)ftp.proxy.on-passive=false

#  ---- Whether active FTP transfers are relayed by the door
#
#   Active FTP transfers are those where the server creates the data
#   channel connection to the client.
#
#   If this option is set to true, then all active transfers are
#   relayed by the FTP door. If this option is set to false, then the
#   pool connects directly to the client. This requires that the pool
#   allows outbound connections. If the pool cannot establish the
#   connection to the client, then the transfer will fail.
#
(one-of?true|false)ftp.proxy.on-active=false


#  ---- Whether FTP door allows users to modify content
#
#
#   The ftp.read-only property controls whether an FTP door will allow
#   users to upload files, delete files or otherwise modify dCache's
#   contents.
#
ftp.read-only=false
#
#   By default, the 'ftp' service (aka WeakFTP) is read-only.
#
ftp/ftp.read-only=true

#  Security related properties
gridftp.security.ciphers=${dcache.security.ciphers}

#  ----- Properties related to talking to other services
ftp.service.loginbroker=${dcache.service.loginbroker}
ftp.service.loginbroker.update-period=${dcache.service.loginbroker.update-period}
ftp.service.loginbroker.update-period.unit=${dcache.service.loginbroker.update-period.unit}
ftp.service.loginbroker.update-threshold=${dcache.service.loginbroker.update-threshold}
kerberosftp.service.loginbroker=${dcache.service.loginbroker}
kerberosftp.service.loginbroker.update-period=${dcache.service.loginbroker.update-period}
kerberosftp.service.loginbroker.update-period.unit=${dcache.service.loginbroker.update-period.unit}
kerberosftp.service.loginbroker.update-threshold=${dcache.service.loginbroker.update-threshold}
gridftp.service.loginbroker=${dcache.service.loginbroker}
gridftp.service.loginbroker.update-period=${dcache.service.loginbroker.update-period}
gridftp.service.loginbroker.update-period.unit=${dcache.service.loginbroker.update-period.unit}
gridftp.service.loginbroker.update-threshold=${dcache.service.loginbroker.update-threshold}



#
#   Document which TCP ports are opened
#
(immutable)ftp/net.ports.tcp=${port} ${clientDataPortRange}
(immutable)kerberosftp/net.ports.tcp=${port} ${clientDataPortRange}
(immutable)gridftp/net.ports.tcp=${port} ${clientDataPortRange}

#  ---- Obsolete properties
#
(obsolete)ftpBase=
(obsolete)spaceReservation=
(obsolete)spaceReservationStrict=
(forbidden)gsiftpAllowPassivePool=See ftp.proxy.on-passive for details
(forbidden)kerberosScvPrincipal=set kerberos.service-principle-name for the ftp service

#  ---- Number of concurrent streams to use by default
#
#   Default number of streams per client in mode E transfers. For
#   compliance with GFD.21, this has to be 1. Therefore this property
#   is deprecated.
#
(forbidden)gsiftpDefaultStreamsPerClient=value must be 1 for compliance with GFD.21
